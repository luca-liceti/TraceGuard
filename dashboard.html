<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <title>TraceGuard Dashboard</title>
  <link rel="stylesheet" href="popup.css"/>
  <style>
    body{
      max-width:900px;
      margin:40px auto;
      padding:0 20px;
      width:auto;
    }
    
    .dashboard-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:32px;
    }
    
    .dashboard-header h1{
      font-size:28px;
      margin:0;
    }
    
    .stats-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
      gap:20px;
      margin-bottom:32px;
    }
    
    .stat-card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:12px;
      padding:20px;
      text-align:center;
    }
    
    .stat-number{
      font-size:32px;
      font-weight:700;
      color:var(--accent);
      margin-bottom:8px;
    }
    
    .stat-label{
      color:var(--muted);
      font-size:14px;
      font-weight:500;
    }
    
    .dashboard-tabs{
      display:flex;
      background:var(--bg);
      border-radius:8px;
      padding:4px;
      margin-bottom:24px;
      border:1px solid var(--border);
    }
    
    .dashboard-tab{
      flex:1;
      padding:12px 20px;
      border:none;
      background:transparent;
      color:var(--muted);
      font-size:14px;
      font-weight:600;
      border-radius:6px;
      cursor:pointer;
      transition:all 0.2s ease;
    }
    
    .dashboard-tab.active{
      background:var(--accent);
      color:var(--btn-text);
    }
    
    .dashboard-tab:hover:not(.active){
      background:var(--card);
      color:var(--text);
    }
    
    .dashboard-content{
      display:none;
    }
    
    .dashboard-content.active{
      display:block;
    }
    
    .filter-section{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:12px;
      padding:20px;
      margin-bottom:24px;
    }
    
    .filter-row{
      display:grid;
      grid-template-columns:1fr 1fr auto;
      gap:16px;
      align-items:end;
    }
    
    .entries-section{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:12px;
      padding:20px;
    }
    
    .entry{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:16px;
      border-radius:8px;
      background:var(--bg);
      border:1px solid var(--border);
      margin-bottom:12px;
      transition:all 0.2s ease;
    }
    
    .entry:hover{
      box-shadow:0 4px 12px rgba(0,0,0,0.08);
    }
    
    .entry:last-child{
      margin-bottom:0;
    }
    
    .entry-content{
      flex:1;
    }
    
    .entry-main{
      font-size:15px;
      color:var(--text);
      font-weight:600;
      margin-bottom:6px;
    }
    
    .entry-details{
      font-size:12px;
      color:var(--muted);
      line-height:1.4;
    }
    
    .log-entry{
      background:var(--bg);
      border:1px solid var(--border);
      border-radius:8px;
      padding:16px;
      margin-bottom:12px;
      transition:all 0.2s ease;
    }
    
    .log-entry:hover{
      box-shadow:0 2px 8px rgba(0,0,0,0.08);
    }
    
    .log-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:8px;
    }
    
    .log-type{
      background:var(--accent);
      color:var(--btn-text);
      padding:4px 8px;
      border-radius:4px;
      font-size:11px;
      font-weight:600;
      text-transform:uppercase;
    }
    
    .log-time{
      font-size:12px;
      color:var(--muted);
    }
    
    .log-site{
      font-size:16px;
      font-weight:600;
      color:var(--text);
      margin-bottom:6px;
    }
    
    .log-details{
      font-size:13px;
      color:var(--muted);
      line-height:1.4;
    }
    
    .reset-section{
      text-align:center;
      margin-top:48px;
      padding-top:32px;
      border-top:1px solid var(--border);
    }
    
    .reset-section h3{
      color:var(--danger);
      margin-bottom:16px;
    }
    
    #resetAll{
      background:var(--danger);
      color:#fff;
      padding:12px 24px;
      font-size:14px;
      font-weight:600;
    }
    
    .empty-state{
      text-align:center;
      color:var(--muted);
      font-style:italic;
      padding:40px 20px;
      background:var(--bg);
      border-radius:12px;
      border:1px solid var(--border);
    }
    
    .refresh-btn{
      background:var(--accent);
      color:var(--btn-text);
      border:none;
      padding:8px 16px;
      border-radius:6px;
      cursor:pointer;
      font-size:12px;
      font-weight:600;
    }
    
    @media (max-width: 768px){
      body{
        padding:0 16px;
      }
      
      .filter-row{
        grid-template-columns:1fr;
        gap:12px;
      }
      
      .stats-grid{
        grid-template-columns:repeat(2, 1fr);
      }
      
      .dashboard-tabs{
        flex-direction:column;
      }
      
      .dashboard-tab{
        margin-bottom:4px;
      }
      
      .entry{
        flex-direction:column;
        align-items:start;
        gap:12px;
      }
    }
  </style>
</head>
<body>
  <div class="dashboard-header">
    <h1>üîí TraceGuard Dashboard</h1>
    <div style="display:flex;gap:12px;align-items:center;">
      <button id="refreshBtn" class="refresh-btn">‚Üª Refresh</button>
      <button id="lockDashBtn" class="lock-btn" title="Lock vault">üîí</button>
    </div>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-number" id="totalEntries">0</div>
      <div class="stat-label">Manual Entries</div>
    </div>
    <div class="stat-card">
      <div class="stat-number" id="profileEntries">0</div>
      <div class="stat-label">Profile Items</div>
    </div>
    <div class="stat-card">
      <div class="stat-number" id="totalLogs">0</div>
      <div class="stat-label">Activity Logs</div>
    </div>
    <div class="stat-card">
      <div class="stat-number" id="uniqueSites">0</div>
      <div class="stat-label">Tracked Sites</div>
    </div>
  </div>

  <div class="dashboard-tabs">
    <button class="dashboard-tab active" data-tab="logs">Activity Logs</button>
    <button class="dashboard-tab" data-tab="entries">Manual Entries</button>
    <button class="dashboard-tab" data-tab="profile">Profile Data</button>
  </div>

  <!-- Activity Logs Tab -->
  <div id="logsContent" class="dashboard-content active">
    <div class="filter-section">
      <h3>Filter Activity Logs</h3>
      <div class="filter-row">
        <div>
          <label for="logTypeFilter">Type:</label>
          <select id="logTypeFilter">
            <option value="">All Types</option>
            <option value="email">Email</option>
            <option value="phone">Phone</option>
            <option value="address">Address</option>
            <option value="ssn">SSN</option>
            <option value="credit">Credit Card</option>
            <option value="license">License</option>
            <option value="passport">Passport</option>
          </select>
        </div>
        <div>
          <label for="logSiteFilter">Site:</label>
          <input type="text" id="logSiteFilter" placeholder="Filter by website"/>
        </div>
        <div>
          <button id="clearLogFilters" class="secondary">Clear Filters</button>
        </div>
      </div>
    </div>

    <div class="entries-section">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
        <h3>Recent Activity</h3>
        <button id="clearAllLogs" style="background:var(--danger);color:white;font-size:12px;">Clear All Logs</button>
      </div>
      <div id="log-list"></div>
    </div>
  </div>

  <!-- Manual Entries Tab -->
  <div id="entriesContent" class="dashboard-content">
    <div class="filter-section">
      <h3>Filter Manual Entries</h3>
      <div class="filter-row">
        <div>
          <label for="entryTypeFilter">Type:</label>
          <select id="entryTypeFilter">
            <option value="">All Types</option>
            <option value="email">Email</option>
            <option value="phone">Phone</option>
            <option value="address">Address</option>
            <option value="ssn">SSN</option>
            <option value="credit">Credit Card</option>
            <option value="license">License</option>
            <option value="passport">Passport</option>
          </select>
        </div>
        <div>
          <label for="entrySiteFilter">Site:</label>
          <input type="text" id="entrySiteFilter" placeholder="Filter by website"/>
        </div>
        <div>
          <button id="clearEntryFilters" class="secondary">Clear Filters</button>
        </div>
      </div>
    </div>

    <div class="entries-section">
      <h3>Manual Entries</h3>
      <div id="entries-list"></div>
    </div>
  </div>

  <!-- Profile Data Tab -->
  <div id="profileContent" class="dashboard-content">
    <div class="entries-section">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
        <h3>Profile Information</h3>
        <div class="note">This data is used for automatic detection on websites</div>
      </div>
      <div id="profile-list"></div>
    </div>
  </div>

  <div class="reset-section">
    <h3>‚ö†Ô∏è Danger Zone</h3>
    <p>Permanently delete all TraceGuard data including passwords and logs.</p>
    <button id="resetAll">üóëÔ∏è Reset All Data</button>
  </div>

  <script src="dashboard-enhanced.js"></script>
</body>
</html>